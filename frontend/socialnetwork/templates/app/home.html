{% extends "app/base.html" %}
{% load static %}
{% block main_content %}
<!-- Main Content -->
<main class="max-w-2xl mx-auto mt-6 space-y-6" id="post-container">
  <!-- JS sẽ render bài viết từ API -->
</main>

<!-- Photo Modal -->
<div id="photoModal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50">
  <!-- Close button -->
  <button id="closeModal" 
          class="absolute top-6 right-8 text-white text-4xl font-bold hover:text-gray-300 z-50">
    &times;
  </button>

  <div class="relative flex items-center justify-center w-[90%] max-w-[90vw]">
    <!-- Prev button -->
    <button id="prevPhoto" 
            class="absolute left-4 top-1/2 -translate-y-1/2 text-white text-5xl px-3 py-2 hover:text-gray-300 z-40">
      &#10094;
    </button>

    <!-- Image -->
    <img id="photoModalImg" src="" alt="Preview" 
         class="max-h-[90vh] max-w-[90vw] object-contain mx-auto rounded-lg">

    <!-- Next button -->
    <button id="nextPhoto" 
            class="absolute right-4 top-1/2 -translate-y-1/2 text-white text-5xl px-3 py-2 hover:text-gray-300 z-40">
      &#10095;
    </button>
  </div>

  <!-- Caption -->
  <p id="photoModalCaption" class="mt-4 text-center text-white text-lg font-medium"></p>
</div>


<!-- Reactions Modal -->
<!-- Modal xem reactions -->
<div id="reactionsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
  <div class="bg-white w-96 max-h-[80vh] rounded-lg overflow-y-auto p-4">
    <div class="flex justify-between items-center mb-3">
      <h2 class="text-lg font-semibold">Người đã thả cảm xúc</h2>
      <button id="closeReactionsModal" class="text-gray-500 hover:text-black">&times;</button>
    </div>
    <div id="reactionsList" class="space-y-3"></div>
  </div>
</div>


<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-white rounded-xl shadow-lg p-6 w-96 text-center">
    <h3 class="text-lg font-semibold mb-4">⚠️ Xác nhận xóa bài viết</h3>
    <p class="mb-6">Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác.</p>
    <div class="flex justify-center gap-4">
      <button id="cancelDelete" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">Hủy</button>
      <button id="confirmDelete" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">Xóa</button>
    </div>
  </div>
</div>
<div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white px-4 py-3 rounded shadow-lg hidden">

</div>
<script type='module' src="{% static 'js/app/post.js' %}"></script>
{% endblock main_content %}
